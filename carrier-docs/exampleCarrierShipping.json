CARRIER ID must be provided client

[
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_1",
        "deliveryAddress": {
            "name": "Peddler BV",
            "house": "12-46",
            "address1": "John M. Keynesplein",
            "address2": "B-toren, L.0.K.4",
            "city": "Amsterdam",
            "state": "Noord Holland",
            "postCode": "1066 EP",
            "country": "NL",
            "phone": "+31623754473"
        },
        "deliveryEmail": "devops@peddler.com",
        "deliveryShippingType": "LETTERBOX",
        "deliveryContentsType": "GOODS",
        "shippingValue": 10,
        "shippingValueCurrency": "EUR",
        "dimensions": "38.5cm * 35.5cm * 9.0cm",
        "weight": "10",
        "weightUnit": "KG",
        "estimatedInjectionDate": "2023-07-10T15:43:24.133Z",
        "carrierOptions": [
          {
            "key": "POD",
            "value": "SIGNATURE"
          },
          {
            "key": "ALLOW_COLLECTION_POINT",
            "value": "TRUE" // boolean as string
          },
          {
            "key": "ADR",
            "value": "Description of ADR contents of package"
          }
        ],
        "webhookUri": "https://carrierwebsite.com/api/webhooks",
        "carrierServiceLevel": "NEXT_DAY_48"
    },
    // address1 should contain house number if available
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_2",
        "deliveryAddress": {
            "address1": "John M. Keynesplein 12",
            "city": "Amsterdam",
            "postCode": "1066 EP",
            "country": "NL"
        },
        "estimatedInjectionDate": "2023-07-10T15:43:24.133Z",
    }
]

POST /api/carrier/[CARRIER_ID]/createShipments

- metaData* : A unique code for you to identify
- deliveryAddress* : Address object containing consignee details pertaining to delivery
- deliveryAddress.name : RECOMMENDED include the consignee name or company name
- deliveryAddress.house : RECOMMENDED include the house number unless included in address1 fieldOptions
- deliveryAddress.address1* :

- deliveryAddress.phone : RECOMMENDED customer mobile in E.164 format for SMS delivery notifications
- deliveryEmail : RECOMMENDED email address for inflight options and delivery notifications

- deliveryShippingType : ENUM PACKAGE DEFAULT (higher rate), LETTERBOX (lower rate)
- deliveryContentsType: "enum": [
  "GOODS", DEFAULT
  "FOOD",
  "ALCOHOL",
  "BOOKS",
  "ADR"
], ADR requires additional description in carrierOptions
- estimatedInjectionDate : JSON DATE "2023-07-10T15:43:24.133Z" estimation when the shipment will be injected to destination country House_Number
"carrierOptions": [
  {
    "key": "POD", // only when signature is required SURCHARGE maybe applicable
    "value": "SIGNATURE"
  },
  {
    "key": "ADR", // required when shipping ADR goods
    "value": "Description of ADR contents of package"
  }
],
- carrierServiceLevel: Provided by Peddler "NEXT_DAY_48"

Response:
ALWAYS 200 HTTP STATUS
[
    {
        "id": "XXXXXX1",
        "trackingNumber": 'PDXXXXXXXXX1',
        "metaData": "UNIQUE_SENDER_REFERENCE_2",
        "status": "ADDED"
        "details": { ...shipment }
    },
    {
        "id": "XXXXXX2",
        "trackingNumber": 'PDXXXXXXXXX2',
        "metaData": "UNIQUE_SENDER_REFERENCE_2",
        "status": "ADDED",
        "details": { ...shipment }
    },
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_4",
        "status": "ERROR",
        "errorType": "INVALID_ADDRESS",
        "error": "Error: Address invalid [\"postcode missing\"]",
        "details": { ...shipment }]
    },
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_5",
        "status": "ERROR",
        "errorType": "INVALID_POSTCODE",
        "error": "Error: Postcode not available for delivery [\"postcode\"]"
    },
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_3",
        "status": "ERROR",
        "errorType": "INVALID_FIELDS",
        "error": "Error: Required fields missing [\"metaData\"]"
    },
    {
        "metaData": "UNIQUE_SENDER_REFERENCE_3",
        "status": "ERROR",
        "errorType": "OTHER",
        "error": "Error: Duplicate meta data"
    }
]

### Get shipment STATUS

GET /api/carrier/[CARRIER_ID]/getShipmentStatuses/?trackingNumbers=

// RECOMMENDED
JSON.stringify([
    "PDXXXXXXXXX1",
    "PDXXXXXXXXX2",
    "PDXXXXBADXX3"
])
// ALT
?trackingNumbers[0]="PDXXXXXXXXX1"&trackingNumbers[1]="PDXXXXXXXXX1"

LIMIT 100 tracking numbers per request

RESPONSE 200
{
  "data": [
    {
        "inquiryNumber": "PDXXXXXXXXX1",
        "consignee": {
            "address": {
                "name": "PDC 01 AMS",
                "address1": "John M. Keynesplein",
                "city": "Amsterdam",
                "postCode": "1066 EP",
                "country": "NL",
                "location": {
                  "lat": "52.1031255",
                  "lng": "5.0814312"
                },
                "phone": "+31 012345678"
            },
            "deliveryEmail": "devops@peddler.com"
        },
        "package": {
            "trackingNumber": "PDXXXXXXXXX1",
            "deliveryDate": "2023-07-10T15:43:24.133Z",
            "canceledDate": "2023-07-10T15:43:24.133Z",
            "returnToSenderDate": "2023-07-10T15:43:24.133Z",
            "events": [
                {
                    "status": "SHIPMENT_CONFIRMED",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                        "description": {
                            "en": "Shipment confirmed by sender"
                        }
                        "estimatedDeliveryDate": "2023-07-10T15:43:24.133Z"
                    }
                },
                {
                    "status": "SHIPMENT_IN_WAREHOUSE",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "gps": {
                      "lat": "52.1031255",
                      "lng": "5.0814312"
                    },
                    "details": {
                        "description": {
                            "en": "Package confirmed in warehouse Amsterdam"
                        }
                        "estimatedDeliveryDate": "2023-07-10T15:43:24.133Z",
                        "warehouse": {
                            "address": {
                                "name": "PDC 01 AMS",
                                "address1": "John M. Keynesplein",
                                "city": "Amsterdam",
                                "postCode": "1066 EP",
                                "country": "NL",
                                "location": {
                                  "lat": "52.1031255",
                                  "lng": "5.0814312"
                                },
                                "phone": "+31 012345678"
                            }
                        }
                    }
                },
                {
                    "status": "OUT_FOR_DELIVERY",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "gps": {
                      "lat": "52.1031255",
                      "lng": "5.0814312"
                    },
                    "details": {
                      "description": {
                          "en": "Package out for delivery at XX:XX dd/mm/yyyy local time"
                      },
                      "courierName": "jay", // OPT
                      "estimatedDeliveryDate": "2023-07-10T15:43:24.133Z"
                    }
                },
                {
                    "status": "DELIVERED",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "gps": {
                      "lat": "52.1031255",
                      "lng": "5.0814312"
                    },
                    "details": {
                      "description": {
                          "en": "Package delivered at XX:XX dd/mm/yyyy local time"
                      },
                      "deliveryDate": "2023-07-10T15:43:24.133Z",

                      "courierName": "jay", // OPT
                      "courierComment": "FRONT_DOOR", // OPT
                      "deliveredAtNeighbours": "46 John M. Keynesplein", // OPT
                      "podSignatureUrl": "https://cdb.peddler.com/podsig/XXXXXXXXXX.png", // OPT
                    }
                },
                {
                    "status": "DELIVERED_COLLECTION_POINT",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "gps": {
                      "lat": "52.1031255",
                      "lng": "5.0814312"
                    },
                    "details": {
                      "description": {
                          "en": "Package delivered on XX:XX dd/mm/yyyy at collection point: Superstore John M. Keynesplein 12 1066EP"
                      },
                      "collectionPoint": {
                          "address": {
                              "name": "COLLECT 01 AMS",
                              "address1": "John M. Keynesplein",
                              "city": "Amsterdam",
                              "postCode": "1066 EP",
                              "country": "NL",
                              "location": {
                                "lat": "52.1031255",
                                "lng": "5.0814312"
                              }
                          }
                      },
                      "courierName": "jay", // OPT
                      "courierComment": "Scanned by collectionpoint", // OPT
                    }
                },
                {
                    "status": "FAILED_ATTEMPT",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "gps": {
                      "lat": "52.1031255",
                      "lng": "5.0814312"
                    },
                    "details": {
                      "reason": "Customer not answering, Wrong/incomplete address, Issue with package, Issue with transport/courier, Refused by customer",
                      "nextAttemptDate": "2023-07-10T15:43:24.133Z", // OPT
                      "contactSupport": true, // OPT
                      "description": {
                          "en": "Delivery attempt failed on XX:XX dd/mm/yyyy reason: Customer not answering/not in. Next attempt: XX:XX dd/mm/yyyy | Contact support | Routing to collection point"
                      }
                    }
                },
                {
                    "status": "ON_HOLD",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                      "description": {
                          "en": "Shipment is currently on hold and waiting to be released or paused by support"
                      }
                    }
                },
                {
                    "status": "EXCEPTION",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                      "description": {
                          "reason": "An issue described by the support team",
                          "en": "Shipment is currently being processed by support, anticipated status update in 48 hours."
                      }
                    }
                },
                {
                    "status": "RETURN_TO_SENDER",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                      "description": {
                          "en": "Shipment has been returned to sender"
                      }
                    }
                },
                {
                    "status": "CANCELED",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                      "description": {
                          "en": "Shipment has been canceled by sender/carrier"
                      }
                    }
                },
                {
                    "status": "SHIPMENT_DETAILS_UPDATED",
                    "ts": "2023-07-10T15:43:24.133Z",
                    "details": {
                      "description": {
                          "en": "The shipment details have been updated by: sender|support|consignee"
                          "originalShipment": {
                              ...shipment
                          },
                          "updatedByType": "CONSIGNEE",
                          "updatedByName": "Jon doe",
                          "updated": {
                              "deliveryDate": "2023-07-10T15:43:24.133Z",
                              "collectionPoint": {
                                  "address": {
                                      "name": "COLLECT 01 AMS",
                                      "address1": "John M. Keynesplein",
                                      "city": "Amsterdam",
                                      "postCode": "1066 EP",
                                      "country": "NL",
                                      "location": {
                                        "lat": "52.1031255",
                                        "lng": "5.0814312"
                                      }
                                  }
                              }
                          }
                      }
                    }
                }
            ]

        }

    }
  ]
}

### Cancel shipment

POST /api/carrier/[CARRIER_ID]/cancelShipment

- shipments maybe canceled if they are in the ADDED state else they are charged

1. Shipment confirmed (est. date/time of arrival),
2. Shipment in warehouse (est. date/time of arrival + map),
3. Out for delivery (est. date/time of arrival + map),
4. Delivered (optional: delivered at neighbours + details),
5. Delivered at Collection point (+ details),
6. Failed attempt (REASON: Customer not answering, Wrong/incomplete address, Issue with package, Refused by customer + NEXT ATTEMPT or CONTACT SUPPORT)
7. On hold (shipment is currently on hold and waiting to be released on the designated timeslot or paused by support)
8. Exception (all other issues related to package or address)
9. Return to sender
10. Canceled
11. Delivery details updated - for example address change or change by consignee
